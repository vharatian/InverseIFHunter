<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Model Hunter â€” Design Lab</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=DM+Sans:wght@400;500;600;700&family=IBM+Plex+Sans:wght@400;500;600;700&family=Geist:wght@400;500;600;700&family=Source+Sans+3:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
/* ============================================================
   DESIGN TOKENS â€” Notion-Minimal Dark (default)
   ============================================================ */
:root {
    /* Dark theme (default) */
    --bg-primary: #191919;
    --bg-secondary: #202020;
    --bg-tertiary: #2a2a2a;
    --bg-card: #202020;
    --bg-hover: #2f2f2f;
    --bg-input: #2a2a2a;

    --text-primary: #e3e2e0;
    --text-secondary: #9b9a97;
    --text-muted: #5a5a5a;

    --accent: #2383e2;
    --accent-hover: #1a6fca;
    --accent-subtle: rgba(35, 131, 226, 0.12);

    --success: #4dab9a;
    --success-subtle: rgba(77, 171, 154, 0.12);
    --danger: #eb5757;
    --danger-subtle: rgba(235, 87, 87, 0.12);
    --warning: #e8a441;
    --warning-subtle: rgba(232, 164, 65, 0.12);

    --border: #2f2f2f;
    --border-hover: #3f3f3f;

    --shadow: 0 1px 3px rgba(0,0,0,0.2);
    --shadow-md: 0 2px 8px rgba(0,0,0,0.25);

    --radius: 6px;
    --radius-sm: 4px;
    --radius-lg: 10px;

    --font: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    --font-mono: 'JetBrains Mono', 'SF Mono', 'Fira Code', monospace;

    --transition: 0.15s ease;
}

[data-theme="light"] {
    --bg-primary: #ffffff;
    --bg-secondary: #fbfbfa;
    --bg-tertiary: #f1f1ef;
    --bg-card: #ffffff;
    --bg-hover: #f1f1ef;
    --bg-input: #f7f6f3;

    --text-primary: #37352f;
    --text-secondary: #6b6b6b;
    --text-muted: #9b9a97;

    --accent: #2383e2;
    --accent-hover: #1a6fca;
    --accent-subtle: rgba(35, 131, 226, 0.08);

    --success: #4dab9a;
    --success-subtle: rgba(77, 171, 154, 0.08);
    --danger: #eb5757;
    --danger-subtle: rgba(235, 87, 87, 0.08);
    --warning: #cb7e2a;
    --warning-subtle: rgba(203, 126, 42, 0.08);

    --border: #e3e2de;
    --border-hover: #d4d4d0;

    --shadow: 0 1px 3px rgba(0,0,0,0.04);
    --shadow-md: 0 2px 8px rgba(0,0,0,0.06);
}


/* ============================================================
   RESET & BASE
   ============================================================ */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html { font-size: 15px; -webkit-font-smoothing: antialiased; }

body {
    font-family: var(--font);
    background: var(--bg-primary);
    color: var(--text-primary);
    line-height: 1.6;
    transition: background var(--transition), color var(--transition);
}

/* ============================================================
   LAYOUT
   ============================================================ */
.lab-layout {
    display: flex;
    min-height: 100vh;
}

.lab-controls {
    width: 280px;
    flex-shrink: 0;
    background: var(--bg-secondary);
    border-right: 1px solid var(--border);
    padding: 1.25rem;
    position: sticky;
    top: 0;
    height: 100vh;
    overflow-y: auto;
    z-index: 100;
}

.lab-preview {
    flex: 1;
    padding: 2rem 2.5rem;
    max-width: 860px;
}

/* ============================================================
   CONTROLS PANEL
   ============================================================ */
.ctrl-title {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 1.25rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--border);
}

.ctrl-group {
    margin-bottom: 1.25rem;
}
.ctrl-label {
    font-size: 0.72rem;
    font-weight: 600;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 0.4rem;
    display: block;
}

.ctrl-options {
    display: flex;
    flex-wrap: wrap;
    gap: 0.3rem;
}
.ctrl-opt {
    padding: 0.3rem 0.6rem;
    font-size: 0.75rem;
    font-weight: 500;
    border: 1px solid var(--border);
    border-radius: var(--radius-sm);
    background: transparent;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all var(--transition);
    font-family: var(--font);
}
.ctrl-opt:hover {
    border-color: var(--border-hover);
    color: var(--text-primary);
    background: var(--bg-hover);
}
.ctrl-opt.active {
    border-color: var(--accent);
    color: var(--accent);
    background: var(--accent-subtle);
}

.ctrl-color-row {
    display: flex;
    gap: 0.4rem;
    flex-wrap: wrap;
}
.ctrl-color {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    border: 2px solid transparent;
    cursor: pointer;
    transition: all var(--transition);
    position: relative;
}
.ctrl-color:hover { transform: scale(1.1); }
.ctrl-color.active {
    border-color: var(--text-primary);
    box-shadow: 0 0 0 2px var(--bg-primary);
}

.ctrl-slider {
    width: 100%;
    margin-top: 0.3rem;
    accent-color: var(--accent);
}

/* ============================================================
   SAMPLE COMPONENTS
   ============================================================ */
.preview-section {
    margin-bottom: 2rem;
}
.preview-section-title {
    font-size: 0.7rem;
    font-weight: 600;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.06em;
    margin-bottom: 0.75rem;
}

/* --- Card --- */
.card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: 1.25rem;
    margin-bottom: 1rem;
    transition: border-color var(--transition), box-shadow var(--transition);
}
.card:hover {
    border-color: var(--border-hover);
}
.card-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem;
}
.card-title {
    font-size: 0.95rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 0.4rem;
}
.card-icon {
    font-size: 1rem;
}
.card-meta {
    font-size: 0.75rem;
    color: var(--text-muted);
}

/* --- Badges --- */
.badge {
    display: inline-flex;
    align-items: center;
    padding: 0.1rem 0.5rem;
    border-radius: var(--radius-sm);
    font-size: 0.7rem;
    font-weight: 600;
    gap: 0.25rem;
}
.badge-accent { background: var(--accent-subtle); color: var(--accent); }
.badge-success { background: var(--success-subtle); color: var(--success); }
.badge-danger { background: var(--danger-subtle); color: var(--danger); }
.badge-warning { background: var(--warning-subtle); color: var(--warning); }
.badge-muted { background: var(--bg-tertiary); color: var(--text-secondary); }

/* --- Buttons --- */
.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.35rem;
    padding: 0.45rem 0.9rem;
    font-size: 0.82rem;
    font-weight: 500;
    font-family: var(--font);
    border-radius: var(--radius);
    border: 1px solid transparent;
    cursor: pointer;
    transition: all var(--transition);
    white-space: nowrap;
}
.btn-primary {
    background: var(--accent);
    color: #fff;
    border-color: var(--accent);
}
.btn-primary:hover {
    background: var(--accent-hover);
    border-color: var(--accent-hover);
}
.btn-secondary {
    background: transparent;
    color: var(--text-secondary);
    border-color: var(--border);
}
.btn-secondary:hover {
    border-color: var(--border-hover);
    color: var(--text-primary);
    background: var(--bg-hover);
}
.btn-danger-outline {
    background: transparent;
    color: var(--danger);
    border-color: var(--danger);
}
.btn-danger-outline:hover {
    background: var(--danger-subtle);
}
.btn-lg {
    padding: 0.6rem 1.2rem;
    font-size: 0.9rem;
    font-weight: 600;
}
.btn-sm {
    padding: 0.25rem 0.55rem;
    font-size: 0.72rem;
}

/* --- Progress bar --- */
.progress-track {
    height: 4px;
    background: var(--bg-tertiary);
    border-radius: 2px;
    overflow: hidden;
    margin: 0.5rem 0;
}
.progress-fill {
    height: 100%;
    border-radius: 2px;
    background: var(--accent);
    transition: width 0.4s ease;
}

/* --- Journey bar (mini stepper) --- */
.journey-bar {
    display: flex;
    align-items: center;
    gap: 0;
    padding: 0.6rem 0;
    margin-bottom: 1rem;
}
.j-node {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.15rem;
    min-width: 48px;
}
.j-circle {
    width: 22px;
    height: 22px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.6rem;
    font-weight: 700;
    border: 1.5px solid var(--border);
    background: transparent;
    color: var(--text-muted);
    transition: all var(--transition);
}
.j-node.done .j-circle {
    background: var(--accent);
    border-color: var(--accent);
    color: #fff;
}
.j-node.active .j-circle {
    background: var(--accent);
    border-color: var(--accent);
    color: #fff;
}
.j-node.future .j-circle {
    border-style: dashed;
}
.j-label {
    font-size: 0.58rem;
    font-weight: 500;
    color: var(--text-muted);
}
.j-node.active .j-label { color: var(--accent); }
.j-node.done .j-label { color: var(--text-secondary); }
.j-line {
    width: 24px;
    height: 1.5px;
    background: var(--border);
    flex-shrink: 0;
    margin-top: -10px;
}
.j-line.done { background: var(--accent); }
.j-line.dashed {
    background: none;
    border-top: 1.5px dashed var(--text-muted);
}

/* --- Thread (conversation sidebar mock) --- */
.thread {
    width: 100%;
    padding: 0;
}
.thread-item {
    padding: 0.5rem 0.6rem;
    border-radius: var(--radius);
    margin-bottom: 0.25rem;
    cursor: pointer;
    transition: background var(--transition);
    border-left: 2px solid transparent;
}
.thread-item:hover { background: var(--bg-hover); }
.thread-item.active {
    background: var(--accent-subtle);
    border-left-color: var(--accent);
}
.thread-item-label {
    font-size: 0.72rem;
    font-weight: 600;
    margin-bottom: 0.1rem;
    display: flex;
    align-items: center;
    gap: 0.3rem;
}
.thread-item-preview {
    font-size: 0.7rem;
    color: var(--text-muted);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}
.thread-item-response {
    font-size: 0.65rem;
    color: var(--text-muted);
    font-style: italic;
    margin-top: 0.15rem;
    padding-left: 0.5rem;
    border-left: 1.5px solid var(--success);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}
.thread-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    flex-shrink: 0;
}

/* --- Decision fork --- */
.decision-fork {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.75rem;
}
.decision-card {
    padding: 1rem;
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    transition: border-color var(--transition);
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}
.decision-card:hover { border-color: var(--border-hover); }
.decision-card.primary { border-color: var(--accent); background: var(--accent-subtle); }
.decision-card.destructive { border-color: var(--danger); }
.decision-heading {
    font-size: 0.85rem;
    font-weight: 600;
}
.decision-card.destructive .decision-heading { color: var(--danger); }
.decision-card.primary .decision-heading { color: var(--accent); }
.decision-desc {
    font-size: 0.78rem;
    color: var(--text-secondary);
    line-height: 1.45;
    flex: 1;
}
.decision-tip {
    font-size: 0.72rem;
    color: var(--text-muted);
    padding: 0.4rem 0.6rem;
    background: var(--bg-tertiary);
    border-radius: var(--radius-sm);
    border-left: 2px solid var(--accent);
    margin-top: 0.5rem;
}

/* --- Table --- */
.table-minimal {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.8rem;
}
.table-minimal th {
    text-align: left;
    font-weight: 600;
    font-size: 0.7rem;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 0.04em;
    padding: 0.4rem 0.6rem;
    border-bottom: 1px solid var(--border);
}
.table-minimal td {
    padding: 0.5rem 0.6rem;
    border-bottom: 1px solid var(--border);
    color: var(--text-secondary);
}
.table-minimal tr:hover td {
    background: var(--bg-hover);
}

/* --- Input --- */
.input {
    width: 100%;
    padding: 0.45rem 0.6rem;
    font-size: 0.82rem;
    font-family: var(--font);
    background: var(--bg-input);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    color: var(--text-primary);
    transition: border-color var(--transition);
    outline: none;
}
.input:focus {
    border-color: var(--accent);
}
.input::placeholder {
    color: var(--text-muted);
}
textarea.input {
    resize: vertical;
    min-height: 80px;
    line-height: 1.5;
}

/* --- Toast --- */
.toast-demo {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    padding: 0.45rem 0.85rem;
    font-size: 0.78rem;
    border-radius: var(--radius);
    border: 1px solid var(--border);
    background: var(--bg-card);
    color: var(--text-primary);
    box-shadow: var(--shadow-md);
}

/* --- Status dots --- */
.status-row {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    font-size: 0.78rem;
    color: var(--text-secondary);
}
.status-dot {
    width: 7px;
    height: 7px;
    border-radius: 50%;
    flex-shrink: 0;
}

/* ============================================================
   TURN COLORS (Notion-style: muted tints, not bold fills)
   ============================================================ */
.turn-1 { --tc: #2383e2; }
.turn-2 { --tc: #9065e0; }
.turn-3 { --tc: #e8a441; }
.turn-4 { --tc: #eb5757; }
.turn-5 { --tc: #4dab9a; }

.turn-badge-notion {
    display: inline-flex;
    align-items: center;
    gap: 0.2rem;
    font-size: 0.68rem;
    font-weight: 600;
    padding: 0.08rem 0.45rem;
    border-radius: var(--radius-sm);
    background: var(--bg-tertiary);
    color: var(--text-secondary);
}
.turn-badge-notion .turn-dot {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--tc);
}

/* ============================================================
   SCROLLBAR
   ============================================================ */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--border-hover); }
</style>
</head>
<body>

<div class="lab-layout">

<!-- ============================================================
     LEFT: CONTROLS PANEL
     ============================================================ -->
<aside class="lab-controls">
    <div class="ctrl-title">Design Lab</div>

    <!-- Theme -->
    <div class="ctrl-group">
        <span class="ctrl-label">Theme</span>
        <div class="ctrl-options" data-ctrl="theme">
            <button class="ctrl-opt active" data-val="dark">Dark</button>
            <button class="ctrl-opt" data-val="light">Light</button>
        </div>
    </div>

    <!-- Font -->
    <div class="ctrl-group">
        <span class="ctrl-label">Font</span>
        <div class="ctrl-options" data-ctrl="font">
            <button class="ctrl-opt active" data-val="'Inter'">Inter</button>
            <button class="ctrl-opt" data-val="'DM Sans'">DM Sans</button>
            <button class="ctrl-opt" data-val="'IBM Plex Sans'">IBM Plex</button>
            <button class="ctrl-opt" data-val="'Source Sans 3'">Source Sans</button>
            <button class="ctrl-opt" data-val="system-ui">System</button>
        </div>
    </div>

    <!-- Accent Color -->
    <div class="ctrl-group">
        <span class="ctrl-label">Accent Color</span>
        <div class="ctrl-color-row" data-ctrl="accent">
            <div class="ctrl-color active" data-val="#2383e2" style="background:#2383e2" title="Blue (Notion)"></div>
            <div class="ctrl-color" data-val="#9065e0" style="background:#9065e0" title="Purple"></div>
            <div class="ctrl-color" data-val="#4dab9a" style="background:#4dab9a" title="Teal"></div>
            <div class="ctrl-color" data-val="#e8a441" style="background:#e8a441" title="Amber"></div>
            <div class="ctrl-color" data-val="#eb5757" style="background:#eb5757" title="Red"></div>
            <div class="ctrl-color" data-val="#d44a8c" style="background:#d44a8c" title="Pink"></div>
            <div class="ctrl-color" data-val="#06b6d4" style="background:#06b6d4" title="Cyan (current)"></div>
            <div class="ctrl-color" data-val="#737373" style="background:#737373" title="Gray"></div>
        </div>
    </div>

    <!-- Border Radius -->
    <div class="ctrl-group">
        <span class="ctrl-label">Border Radius</span>
        <div class="ctrl-options" data-ctrl="radius">
            <button class="ctrl-opt" data-val="0px">Sharp</button>
            <button class="ctrl-opt" data-val="4px">Subtle</button>
            <button class="ctrl-opt active" data-val="6px">Soft</button>
            <button class="ctrl-opt" data-val="12px">Round</button>
        </div>
    </div>

    <!-- Border Weight -->
    <div class="ctrl-group">
        <span class="ctrl-label">Borders</span>
        <div class="ctrl-options" data-ctrl="borders">
            <button class="ctrl-opt" data-val="none">None</button>
            <button class="ctrl-opt active" data-val="1px">Subtle</button>
            <button class="ctrl-opt" data-val="2px">Medium</button>
        </div>
    </div>

    <!-- Shadows -->
    <div class="ctrl-group">
        <span class="ctrl-label">Shadows</span>
        <div class="ctrl-options" data-ctrl="shadow">
            <button class="ctrl-opt" data-val="none">None</button>
            <button class="ctrl-opt active" data-val="subtle">Subtle</button>
            <button class="ctrl-opt" data-val="medium">Medium</button>
        </div>
    </div>

    <!-- Font Size -->
    <div class="ctrl-group">
        <span class="ctrl-label">Base Font Size</span>
        <div class="ctrl-options" data-ctrl="size">
            <button class="ctrl-opt" data-val="13px">13</button>
            <button class="ctrl-opt" data-val="14px">14</button>
            <button class="ctrl-opt active" data-val="15px">15</button>
            <button class="ctrl-opt" data-val="16px">16</button>
        </div>
    </div>

    <!-- Spacing Density -->
    <div class="ctrl-group">
        <span class="ctrl-label">Density</span>
        <div class="ctrl-options" data-ctrl="density">
            <button class="ctrl-opt" data-val="compact">Compact</button>
            <button class="ctrl-opt active" data-val="default">Default</button>
            <button class="ctrl-opt" data-val="spacious">Spacious</button>
        </div>
    </div>

    <!-- Badge Style -->
    <div class="ctrl-group">
        <span class="ctrl-label">Turn Badges</span>
        <div class="ctrl-options" data-ctrl="badgestyle">
            <button class="ctrl-opt active" data-val="dot">Dot + Text</button>
            <button class="ctrl-opt" data-val="filled">Filled Pill</button>
            <button class="ctrl-opt" data-val="outline">Outline</button>
        </div>
    </div>

    <div style="margin-top:1.5rem; padding-top:0.75rem; border-top:1px solid var(--border);">
        <span class="ctrl-label">Current Config</span>
        <pre id="configOutput" style="font-size:0.65rem; color:var(--text-muted); font-family:var(--font-mono); margin-top:0.3rem; white-space:pre-wrap; line-height:1.5;"></pre>
    </div>
</aside>


<!-- ============================================================
     RIGHT: PREVIEW AREA
     ============================================================ -->
<div class="lab-preview">

    <!-- Journey Bar -->
    <div class="preview-section">
        <div class="preview-section-title">Journey Bar</div>
        <div class="card" style="padding:0.6rem 1rem;">
            <div class="journey-bar">
                <div class="j-node done">
                    <div class="j-circle">&#10003;</div>
                    <div class="j-label">Turn 1</div>
                </div>
                <div class="j-line done"></div>
                <div class="j-node done">
                    <div class="j-circle">&#10003;</div>
                    <div class="j-label">Turn 2</div>
                </div>
                <div class="j-line done"></div>
                <div class="j-node active">
                    <div class="j-circle">3</div>
                    <div class="j-label">Hunting</div>
                </div>
                <div class="j-line dashed"></div>
                <div class="j-node future">
                    <div class="j-circle">?</div>
                    <div class="j-label">Next</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Badges -->
    <div class="preview-section">
        <div class="preview-section-title">Badges &amp; Turn Tags</div>
        <div style="display:flex; gap:0.4rem; flex-wrap:wrap; margin-bottom:0.75rem;">
            <span class="badge badge-accent">Turn 3</span>
            <span class="badge badge-success">Pass</span>
            <span class="badge badge-danger">Break</span>
            <span class="badge badge-warning">Pending</span>
            <span class="badge badge-muted">4 hunts</span>
        </div>
        <div style="display:flex; gap:0.5rem; flex-wrap:wrap;" id="turnBadgePreview">
            <span class="turn-badge-notion turn-1"><span class="turn-dot"></span> Turn 1</span>
            <span class="turn-badge-notion turn-2"><span class="turn-dot"></span> Turn 2</span>
            <span class="turn-badge-notion turn-3"><span class="turn-dot"></span> Turn 3</span>
            <span class="turn-badge-notion turn-4"><span class="turn-dot"></span> Turn 4</span>
            <span class="turn-badge-notion turn-5"><span class="turn-dot"></span> Turn 5</span>
        </div>
    </div>

    <!-- Cards -->
    <div class="preview-section">
        <div class="preview-section-title">Cards</div>
        <div class="card">
            <div class="card-header">
                <div class="card-title"><span class="card-icon">ðŸ“Š</span> Hunt Progress <span class="badge badge-accent" style="margin-left:0.3rem;">Turn 3</span></div>
                <div class="status-row"><div class="status-dot" style="background:var(--accent);"></div> Running</div>
            </div>
            <div class="progress-track"><div class="progress-fill" style="width:62%;"></div></div>
            <div style="display:flex; justify-content:space-between; font-size:0.75rem; color:var(--text-muted); margin-top:0.25rem;">
                <span>4 / 6 hunts this turn</span>
                <span>14 total across 3 turns</span>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <div class="card-title"><span class="card-icon">ðŸ“‹</span> Prompt &amp; Criteria <span class="badge badge-accent" style="margin-left:0.3rem;">Turn 3</span></div>
            </div>
            <div style="font-size:0.82rem; color:var(--text-secondary); line-height:1.55;">
                Write a step-by-step solution to the math problem. The response should identify the core error in the original approach and provide a corrected methodology.
            </div>
        </div>
    </div>

    <!-- Buttons -->
    <div class="preview-section">
        <div class="preview-section-title">Buttons</div>
        <div style="display:flex; gap:0.5rem; flex-wrap:wrap; align-items:center;">
            <button class="btn btn-primary btn-lg">Start Hunt</button>
            <button class="btn btn-primary">Save Prompt</button>
            <button class="btn btn-secondary">Cancel</button>
            <button class="btn btn-danger-outline">End &amp; Review</button>
            <button class="btn btn-sm btn-secondary">View</button>
        </div>
    </div>

    <!-- Inputs -->
    <div class="preview-section">
        <div class="preview-section-title">Inputs</div>
        <div style="display:flex; flex-direction:column; gap:0.6rem; max-width:480px;">
            <input class="input" type="url" placeholder="https://colab.research.google.com/drive/...">
            <textarea class="input" placeholder="Enter the prompt for the next turn..."></textarea>
        </div>
    </div>

    <!-- Table -->
    <div class="preview-section">
        <div class="preview-section-title">Results Table</div>
        <div class="card" style="padding:0;">
            <table class="table-minimal">
                <thead>
                    <tr><th>Hunt</th><th>Model</th><th>Status</th><th>Score</th><th>Response</th></tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>Qwen3-235B</td>
                        <td><span class="badge badge-danger">Break</span></td>
                        <td>0</td>
                        <td style="color:var(--text-muted);">The answer to your question is...</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>Qwen3-235B</td>
                        <td><span class="badge badge-success">Pass</span></td>
                        <td>1</td>
                        <td style="color:var(--text-muted);">Step 1: Identify the core error...</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>Qwen3-235B</td>
                        <td><span class="badge badge-warning">Pending</span></td>
                        <td>â€”</td>
                        <td style="color:var(--text-muted);">â€”</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Conversation Thread -->
    <div class="preview-section">
        <div class="preview-section-title">Conversation Thread (sidebar mock)</div>
        <div class="card" style="max-width:280px; padding:0.6rem;">
            <div class="thread">
                <div class="thread-item">
                    <div class="thread-item-label"><span class="thread-dot" style="background:#2383e2;"></span> Turn 1</div>
                    <div class="thread-item-preview">What is the capital of France?</div>
                    <div class="thread-item-response">The capital of France is Paris, located...</div>
                </div>
                <div class="thread-item">
                    <div class="thread-item-label"><span class="thread-dot" style="background:#9065e0;"></span> Turn 2</div>
                    <div class="thread-item-preview">Explain why it became the capital</div>
                    <div class="thread-item-response">Paris became the capital due to its...</div>
                </div>
                <div class="thread-item active">
                    <div class="thread-item-label"><span class="thread-dot" style="background:#e8a441;"></span> Turn 3</div>
                    <div class="thread-item-preview">Give a counterexample</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Decision Fork -->
    <div class="preview-section">
        <div class="preview-section-title">Decision Fork</div>
        <div class="card">
            <div style="display:flex; gap:0.75rem; align-items:center; margin-bottom:0.75rem; font-size:0.8rem; color:var(--text-secondary);">
                <span class="badge badge-accent">Turn 3</span>
                <span>6 hunts</span>
                <span>2 breaks found</span>
            </div>
            <div class="decision-fork">
                <div class="decision-card destructive">
                    <div class="decision-heading">Found a Breaking Response?</div>
                    <div class="decision-desc">End the session. Select 4 responses for human review.</div>
                    <button class="btn btn-danger-outline" style="align-self:stretch;">End &amp; Review</button>
                </div>
                <div class="decision-card primary">
                    <div class="decision-heading">No Breaking Yet?</div>
                    <div class="decision-desc">Pick a passing response and write the next turn.</div>
                    <button class="btn btn-primary" style="align-self:stretch;">Continue to Turn 4 &rarr;</button>
                </div>
            </div>
            <div class="decision-tip">Tip: Most trainers continue until they find a clear breaking pattern across 2-3 turns.</div>
        </div>
    </div>

    <!-- Toasts -->
    <div class="preview-section">
        <div class="preview-section-title">Toast Messages</div>
        <div style="display:flex; flex-direction:column; gap:0.5rem; max-width:400px;">
            <div class="toast-demo"><div class="status-dot" style="background:var(--success);"></div> Turn 3 â€” Hunt 4 complete (Score: 0, Break)</div>
            <div class="toast-demo"><div class="status-dot" style="background:var(--accent);"></div> Turn 2 started â€” 16 hunts available</div>
            <div class="toast-demo"><div class="status-dot" style="background:var(--danger);"></div> Turn limit reached (16/16 this turn)</div>
        </div>
    </div>

</div><!-- /.lab-preview -->
</div><!-- /.lab-layout -->


<script>
// ========== Controls Logic ==========

const root = document.documentElement;
const configOutput = document.getElementById('configOutput');

const currentConfig = {
    theme: 'dark',
    font: "'Inter'",
    accent: '#2383e2',
    radius: '6px',
    borders: '1px',
    shadow: 'subtle',
    size: '15px',
    density: 'default',
    badgestyle: 'dot',
};

function applyConfig() {
    // Theme
    root.setAttribute('data-theme', currentConfig.theme);

    // Font
    root.style.setProperty('--font', `${currentConfig.font}, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif`);

    // Accent
    root.style.setProperty('--accent', currentConfig.accent);
    // Derive hover (darken slightly)
    root.style.setProperty('--accent-hover', currentConfig.accent);
    // Derive subtle
    const hex = currentConfig.accent;
    const r = parseInt(hex.slice(1,3),16), g = parseInt(hex.slice(3,5),16), b = parseInt(hex.slice(5,7),16);
    const alpha = currentConfig.theme === 'dark' ? 0.12 : 0.08;
    root.style.setProperty('--accent-subtle', `rgba(${r},${g},${b},${alpha})`);

    // Radius
    const rad = parseInt(currentConfig.radius);
    root.style.setProperty('--radius', currentConfig.radius);
    root.style.setProperty('--radius-sm', Math.max(0, rad - 2) + 'px');
    root.style.setProperty('--radius-lg', Math.min(16, rad + 4) + 'px');

    // Borders
    if (currentConfig.borders === 'none') {
        root.style.setProperty('--border', 'transparent');
        root.style.setProperty('--border-hover', 'transparent');
    } else {
        // Reset to theme defaults
        root.style.removeProperty('--border');
        root.style.removeProperty('--border-hover');
    }
    document.querySelectorAll('.card, .decision-card, .input, .thread-item, .toast-demo, .table-minimal th, .table-minimal td').forEach(el => {
        el.style.borderWidth = currentConfig.borders === 'none' ? '0' : currentConfig.borders;
    });

    // Shadows
    if (currentConfig.shadow === 'none') {
        root.style.setProperty('--shadow', 'none');
        root.style.setProperty('--shadow-md', 'none');
    } else if (currentConfig.shadow === 'medium') {
        root.style.setProperty('--shadow', '0 2px 6px rgba(0,0,0,0.15)');
        root.style.setProperty('--shadow-md', '0 4px 16px rgba(0,0,0,0.2)');
    } else {
        root.style.removeProperty('--shadow');
        root.style.removeProperty('--shadow-md');
    }
    document.querySelectorAll('.card').forEach(el => {
        el.style.boxShadow = currentConfig.shadow === 'none' ? 'none' : '';
    });

    // Size
    root.style.fontSize = currentConfig.size;

    // Density
    const densityScale = { compact: 0.75, default: 1, spacious: 1.35 };
    const scale = densityScale[currentConfig.density];
    document.querySelectorAll('.card').forEach(el => {
        el.style.padding = `${1.25 * scale}rem`;
    });
    // Fix table card
    document.querySelectorAll('.table-minimal').forEach(el => {
        el.closest('.card').style.padding = '0';
    });

    // Badge style
    const turnBadges = document.querySelectorAll('.turn-badge-notion');
    turnBadges.forEach(badge => {
        const dot = badge.querySelector('.turn-dot');
        if (currentConfig.badgestyle === 'filled') {
            const color = getComputedStyle(badge).getPropertyValue('--tc').trim();
            badge.style.background = color;
            badge.style.color = '#fff';
            badge.style.borderColor = 'transparent';
            if (dot) dot.style.display = 'none';
        } else if (currentConfig.badgestyle === 'outline') {
            const color = getComputedStyle(badge).getPropertyValue('--tc').trim();
            badge.style.background = 'transparent';
            badge.style.color = color;
            badge.style.border = `1.5px solid ${color}`;
            if (dot) dot.style.display = 'none';
        } else {
            badge.style.background = '';
            badge.style.color = '';
            badge.style.border = '';
            if (dot) dot.style.display = '';
        }
    });

    // Update journey node colors to accent
    document.querySelectorAll('.j-node.done .j-circle, .j-node.active .j-circle').forEach(el => {
        el.style.background = currentConfig.accent;
        el.style.borderColor = currentConfig.accent;
    });
    document.querySelectorAll('.j-line.done').forEach(el => {
        el.style.background = currentConfig.accent;
    });
    document.querySelectorAll('.j-node.active .j-label').forEach(el => {
        el.style.color = currentConfig.accent;
    });

    // Config output
    configOutput.textContent = JSON.stringify(currentConfig, null, 2);
}

// Bind controls
document.querySelectorAll('[data-ctrl]').forEach(group => {
    const ctrl = group.dataset.ctrl;

    if (ctrl === 'accent') {
        group.querySelectorAll('.ctrl-color').forEach(btn => {
            btn.addEventListener('click', () => {
                group.querySelectorAll('.ctrl-color').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentConfig.accent = btn.dataset.val;
                applyConfig();
            });
        });
    } else {
        group.querySelectorAll('.ctrl-opt').forEach(btn => {
            btn.addEventListener('click', () => {
                group.querySelectorAll('.ctrl-opt').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentConfig[ctrl] = btn.dataset.val;
                applyConfig();
            });
        });
    }
});

// Initial render
applyConfig();
</script>

</body>
</html>
